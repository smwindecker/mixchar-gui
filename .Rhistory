shiny::runApp(".")
packageVersion("mixchar")
mixchar:::process
devtools::load_all("C:/Users/26247/Desktop/Work R package/mixchar")
shiny::runApp("C:/Users/26247/Desktop/Work R package/mixchar-gui")
devtools::load_all("C:/Users/26247/Desktop/Work R package/mixchar")
shiny::runApp("C:/Users/26247/Desktop/Work R package/mixchar-gui")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
install.packages("remotes")
remotes::install_github("smwindecker/mixchar")
shiny::runApp(".")
install.packages("remotes")  # 如未安装
remotes::install_github("smwindecker/mixchar", ref = "fixed-carbon", upgrade = "never")
install.packages("remotes")
shiny::runApp(".")
options(download.file.method = "wininet")  # 若之前下载失败可先设
remotes::install_github("smwindecker/mixchar", ref = "fixed-carbon", upgrade = "never", force = TRUE)
install.packages("remotes")  # 如未装
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
.libPaths()
remove.packages("mixchar")
remove.packages("mixchar", lib = "C:/Users/26247/AppData/Local/R/win-library/4.5")
install.packages(c("remotes", "shiny", "DT", "bslib"))
remotes::install_local("C:/Users/26247/Desktop/Work R package/mixchar",
upgrade = "never", force = TRUE)
"calculate_fixed_carbon_fractions" %in% ls("package:mixchar")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
install.packages("devtools")
remotes::install_local("C:/Users/26247/Desktop/Work R package/mixchar",
upgrade = "never", force = TRUE)
remotes::install_local("C:/Users/26247/Desktop/Work R package/mixchar",
upgrade = "never", force = TRUE)
shiny::runApp(".")
remotes::install_local("C:/Users/26247/Desktop/Work R package/mixchar",
upgrade = "never", force = TRUE)
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
devtools::load_all(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
devtools::load_all(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
data_path <- "C:/Users/26247/Desktop/beech_test.csv"  # adjust to your own file path
raw <- read.csv(data_path, skip = 40, check.names = FALSE)
# Process data with the parameters used in the app
processed <- process(
data = raw,
init_mass = 18.96,
temp = "temp",
mass_loss = "mass_loss",
time = "time",
pyrolysis_start_time = 127,
pyrolysis_end_time = 191.5,
temp_units = "C"
)
# Summaries and plots
stage_summary(processed)
png('processed_plot_mass.png', width = 1200, height = 1200, res = 150)
plot(processed, plot_type = 'mass', colour_segments = TRUE)
dev.off()
png('temp_program_plot.png', width = 1200, height = 1200, res = 150)
plot_temp_program(raw, time_col = "time", temp_col = "temp", stage_col = "stage")
dev.off()
# Deconvolution
decon <- deconvolve(processed, seed = 1, n_peaks = 3)
weights <- decon$weights
write.csv(weights, 'decon_weights.csv', row.names = FALSE)
probs <- c(0.025, 0.500, 0.975)
png('decon_plot.png', width = 1200, height = 1200, res = 150)
plot(decon, bw = TRUE, show_quantile_band = FALSE, quantile_probs = probs, n_draws = 500, seed = 42)
dev.off()
# Carbon fractions (3-peak only)
moisture <- mixchar:::calculate_moisture_content(processed)
ash <- mixchar:::calculate_ash_content(processed)
fc <- calculate_fixed_carbon_fractions(decon, dry_basis_fixed_carbon_hemicellulose = 13.8, dry_basis_fixed_carbon_cellulose = 6.4, dry_basis_fixed_carbon_lignin = 34)
totals <- mixchar:::calculate_total_fractions(decon, fc)
fractions <- data.frame(
Component = c(
'Moisture', 'Ash',
'Hemicellulose total', 'Cellulose total', 'Lignin total',
'Hemicellulose fixed carbon', 'Cellulose fixed carbon', 'Lignin fixed carbon'
),
Percent = round(c(
moisture, ash,
totals$H_total, totals$C_total, totals$L_total,
if (!is.null(fc$fixed_carbon_HC_fraction)) fc$fixed_carbon_HC_fraction else fc$Hfp,
if (!is.null(fc$fixed_carbon_CL_fraction)) fc$fixed_carbon_CL_fraction else fc$Cfp,
if (!is.null(fc$fixed_carbon_LG_fraction)) fc$fixed_carbon_LG_fraction else fc$Lfp
), 2)
)
write.csv(fractions, 'carbon_fractions.csv', row.names = FALSE)
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
setwd("C:/Users/26247/Desktop/test")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
setwd("C:/Users/26247/Desktop/Work R package/mixchar-gui")
setwd("C:/Users/26247/Desktop/test")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
source("C:/Users/26247/Desktop/test/mixchar_reproducible_analysis.R")
shiny::runApp(".")
shiny::runApp(".")
install.packages("plotly")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
